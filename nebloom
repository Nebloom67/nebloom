import React, { useState, useEffect, useRef } from 'react';
import { Heart, Search, User, ShoppingBag, Menu, X, ChevronRight, Star, Play } from 'lucide-react';

const PremiumMakeupHomepage = () => {
  const [activeCategory, setActiveCategory] = useState('nouveautes');
  const [mobileMenuOpen, setMobileMenuOpen] = useState(false);
  const [reduceMotion, setReduceMotion] = useState(false);

  // Simuler la détection des préférences de réduction de mouvement
  useEffect(() => {
    const mediaQuery = window.matchMedia('(prefers-reduced-motion: reduce)');
    setReduceMotion(mediaQuery.matches);
    
    const handleChange = () => setReduceMotion(mediaQuery.matches);
    mediaQuery.addEventListener('change', handleChange);
    
    return () => mediaQuery.removeEventListener('change', handleChange);
  }, []);

  return (
    <div className="min-h-screen bg-[#FAFAFA] text-[#0F1115]">
      {/* Header */}
      <header className="sticky top-0 z-50 bg-white/90 backdrop-blur-md border-b border-gray-100">
        <div className="container mx-auto px-4 py-4">
          <div className="flex items-center justify-between">
            <div className="flex items-center space-x-10">
              <div className="text-2xl font-serif font-bold">LUMIÈRE</div>
              
              <nav className="hidden md:flex space-x-8">
                <a href="#" className="hover:text-rose-400 transition-colors">Nouveautés</a>
                <a href="#" className="hover:text-rose-400 transition-colors">Visage</a>
                <a href="#" className="hover:text-rose-400 transition-colors">Yeux</a>
                <a href="#" className="hover:text-rose-400 transition-colors">Lèvres</a>
                <a href="#" className="hover:text-rose-400 transition-colors">Collection</a>
              </nav>
            </div>
            
            <div className="flex items-center space-x-4">
              <button className="p-2 hover:text-rose-400 transition-colors">
                <Search size={20} />
              </button>
              <button className="p-2 hover:text-rose-400 transition-colors">
                <User size={20} />
              </button>
              <button className="p-2 hover:text-rose-400 transition-colors relative">
                <ShoppingBag size={20} />
                <span className="absolute -top-1 -right-1 bg-rose-400 text-white text-xs rounded-full w-4 h-4 flex items-center justify-center">3</span>
              </button>
              <button 
                className="md:hidden p-2 hover:text-rose-400 transition-colors"
                onClick={() => setMobileMenuOpen(true)}
              >
                <Menu size={20} />
              </button>
            </div>
          </div>
        </div>
      </header>

      {/* Mobile Menu */}
      {mobileMenuOpen && (
        <div className="fixed inset-0 z-50 bg-white md:hidden">
          <div className="p-4">
            <div className="flex justify-between items-center mb-8">
              <div className="text-2xl font-serif font-bold">LUMIÈRE</div>
              <button onClick={() => setMobileMenuOpen(false)}>
                <X size={24} />
              </button>
            </div>
            <nav className="space-y-6">
              <a href="#" className="block py-2 text-lg hover:text-rose-400">Nouveautés</a>
              <a href="#" className="block py-2 text-lg hover:text-rose-400">Visage</a>
              <a href="#" className="block py-2 text-lg hover:text-rose-400">Yeux</a>
              <a href="#" className="block py-2 text-lg hover:text-rose-400">Lèvres</a>
              <a href="#" className="block py-2 text-lg hover:text-rose-400">Collection</a>
            </nav>
          </div>
        </div>
      )}

      <main>
        {/* Hero 3D Section */}
        <section className="relative h-[80vh] bg-gradient-to-br from-rose-50 to-pink-100 overflow-hidden">
          <div className="absolute inset-0 flex items-center justify-center">
            <div className={`${reduceMotion ? '' : 'animate-pulse-slow'} absolute w-64 h-64 rounded-full bg-rose-200 opacity-20 blur-xl`}></div>
            <div className={`${reduceMotion ? '' : 'animate-pulse-slow'} absolute w-96 h-96 rounded-full bg-pink-200 opacity-10 blur-xl`} style={{animationDelay: '1s'}}></div>
          </div>
          
          <div className="container mx-auto px-4 h-full flex items-center relative z-10">
            <div className="max-w-md">
              <h1 className="text-5xl md:text-6xl font-serif font-bold mb-6">
                Révélez votre <span className="text-rose-400">éclat</span> naturel
              </h1>
              <p className="text-lg text-gray-600 mb-8">
                Découvrez notre nouvelle collection de maquillage premium, conçue pour magnifier votre beauté naturelle.
              </p>
              <div className="flex space-x-4">
                <button className="bg-rose-400 text-white px-8 py-3 rounded-full hover:bg-rose-500 transition-colors">
                  Découvrir
                </button>
                <button className="border border-rose-400 text-rose-400 px-8 py-3 rounded-full hover:bg-rose-50 transition-colors flex items-center">
                  <Play size={16} className="mr-2" />
                  Voir la vidéo
                </button>
              </div>
            </div>
          </div>
          
          {/* Placeholder for 3D model */}
          <div className="absolute right-0 top-1/2 transform -translate-y-1/2 w-1/2 h-full hidden lg:flex items-center justify-center">
            <div className="relative w-80 h-80 bg-white rounded-2xl shadow-xl flex items-center justify-center">
              <div className="w-full h-full flex items-center justify-center">
                <img 
                  src="https://storage.googleapis.com/workspace-0f70711f-8b4e-4d94-86f1-2a93ccde5887/image/49815967-c31e-448e-8ccf-26688d12f74a.png" 
                  alt="Produit phare de maquillage montrant un fard à paupières premium avec texture métallique et reflets irisés" 
                  className="w-full h-full object-cover rounded-2xl"
                />
              </div>
              <div className="absolute -bottom-4 left-1/2 transform -translate-x-1/2 bg-white rounded-full p-2 shadow-md">
                <div className="flex space-x-1">
                  <button className="w-3 h-3 rounded-full bg-rose-300"></button>
                  <button className="w-3 h-3 rounded-full bg-pink-200"></button>
                  <button className="w-3 h-3 rounded-full bg-rose-400"></button>
                </div>
              </div>
            </div>
          </div>

          {/* Motion reduction button */}
          <button 
            onClick={() => setReduceMotion(!reduceMotion)}
            className="absolute bottom-4 right-4 bg-white/80 backdrop-blur-sm rounded-full px-4 py-2 text-sm hover:bg-white transition-colors"
          >
            {reduceMotion ? 'Activer les animations' : 'Réduire les animations'}
          </button>
        </section>

        {/* Categories */}
        <section className="py-16">
          <div className="container mx-auto px-4">
            <h2 className="text-3xl font-serif font-bold text-center mb-12">Nos collections</h2>
            
            <div className="grid grid-cols-2 md:grid-cols-4 gap-6">
              <div className="relative group overflow-hidden rounded-2xl aspect-square">
                <img 
                  src="https://storage.googleapis.com/workspace-0f70711f-8b4e-4d94-86f1-2a93ccde5887/image/e1176009-9fda-4a39-be93-71f618a4bfc0.png" 
                  alt="Collection de fonds de teint liquides et poudreux dans des flacons élégants avec applicateur" 
                  className="w-full h-full object-cover group-hover:scale-105 transition-transform duration-700"
                />
                <div className="absolute inset-0 bg-black/20 group-hover:bg-black/10 transition-colors"></div>
                <div className="absolute bottom-4 left-4 text-white">
                  <h3 className="font-semibold text-lg">Teint</h3>
                  <p className="text-sm">Fond de teint & correcteur</p>
                </div>
              </div>
              
              <div className="relative group overflow-hidden rounded-2xl aspect-square">
                <img 
                  src="https://storage.googleapis.com/workspace-0f70711f-8b4e-4d94-86f1-2a93ccde5887/image/51017d60-1ffb-4d52-ae9f-8b93341b0fff.png" 
                  alt="Palette de fards à paupières avec dégradé de couleurs nude et poudrées dans un étui miroir" 
                  className="w-full h-full object-cover group-hover:scale-105 transition-transform duration-700"
                />
                <div className="absolute inset-0 bg-black/20 group-hover:bg-black/10 transition-colors"></div>
                <div className="absolute bottom-4 left-4 text-white">
                  <h3 className="font-semibold text-lg">Yeux</h3>
                  <p className="text-sm">Fards & mascaras</p>
                </div>
              </div>
              
              <div className="relative group overflow-hidden rounded-2xl aspect-square">
                <img 
                  src="https://storage.googleapis.com/workspace-0f70711f-8b4e-4d94-86f1-2a93ccde5887/image/7b37f34e-52aa-414e-89da-e16b85e7a866.png" 
                  alt="Rouges à lèvres luxueux en forme de cylindre avec fini satiné et capot doré" 
                  className="w-full h-full object-cover group-hover:scale-105 transition-transform duration-700"
                />
                <div className="absolute inset-0 bg-black/20 group-hover:bg-black/10 transition-colors"></div>
                <div className="absolute bottom-4 left-4 text-white">
                  <h3 className="font-semibold text-lg">Lèvres</h3>
                  <p className="text-sm">Rouges & gloss</p>
                </div>
              </div>
              
              <div className="relative group overflow-hidden rounded-2xl aspect-square">
                <img 
                  src="https://storage.googleapis.com/workspace-0f70711f-8b4e-4d94-86f1-2a93ccde5887/image/b81c85a5-54e9-4645-a5a0-48968e9bc74e.png" 
                  alt="Kit de pinceaux de maquillage professionnels avec manche bois et poils synthétiques doux" 
                  className="w-full h-full object-cover group-hover:scale-105 transition-transform duration-700"
                />
                <div className="absolute inset-0 bg-black/20 group-hover:bg-black/10 transition-colors"></div>
                <div className="absolute bottom-4 left-4 text-white">
                  <h3 className="font-semibold text-lg">Outils</h3>
                  <p className="text-sm">Pinceaux & accessoires</p>
                </div>
              </div>
            </div>
          </div>
        </section>

        {/* Nouveautés */}
        <section className="py-16 bg-rose-50">
          <div className="container mx-auto px-4">
            <div className="flex justify-between items-center mb-12">
              <h2 className="text-3xl font-serif font-bold">Nouveautés</h2>
              <a href="#" className="flex items-center text-rose-400 hover:text-rose-500">
                Voir tout <ChevronRight size={20} />
              </a>
            </div>
            
            <div className="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-8">
              {/* Product 1 */}
              <div className="bg-white rounded-2xl overflow-hidden shadow-sm hover:shadow-md transition-shadow">
                <div className="relative aspect-square">
                  <img 
                    src="https://storage.googleapis.com/workspace-0f70711f-8b4e-4d94-86f1-2a93ccde5887/image/3c7b99c7-ae41-47bb-8436-5db6e2a23fec.png" 
                    alt="Nouveau rouge à lèvre liquide teinte rose nude avec fini mat et applicateur précision" 
                    className="w-full h-full object-cover"
                  />
                  <button className="absolute top-4 right-4 p-2 bg-white rounded-full shadow-md hover:bg-rose-50">
                    <Heart size={20} className="text-gray-600" />
                  </button>
                </div>
                <div className="p-4">
                  <h3 className="font-semibold mb-1">Rouge Velours</h3>
                  <p className="text-gray-600 text-sm mb-2">Teinte: Nude Rose</p>
                  <div className="flex items-center mb-2">
                    {[1,2,3,4,5].map((star) => (
                      <Star key={star} size={14} fill="#f9a8d4" className="text-rose-300" />
                    ))}
                    <span className="text-xs text-gray-500 ml-1">(42)</span>
                  </div>
                  <div className="flex justify-between items-center">
                    <span className="font-serif font-bold">32,00 €</span>
                    <button className="bg-rose-400 text-white p-2 rounded-full hover:bg-rose-500 transition-colors">
                      <ShoppingBag size={16} />
                    </button>
                  </div>
                </div>
              </div>
              
              {/* Product 2 */}
              <div className="bg-white rounded-2xl overflow-hidden shadow-sm hover:shadow-md transition-shadow">
                <div className="relative aspect-square">
                  <img 
                    src="https://storage.googleapis.com/workspace-0f70711f-8b4e-4d94-86f1-2a93ccde5887/image/000245f8-cd64-4dc0-8704-540626889d2b.png" 
                    alt="Palette de fards à paupières scintillants avec miroir et applicateur double face inclus" 
                    className="w-full h-full object-cover"
                  />
                  <button className="absolute top-4 right-4 p-2 bg-white rounded-full shadow-md hover:bg-rose-50">
                    <Heart size={20} className="text-gray-600" />
                  </button>
                </div>
                <div className="p-4">
                  <h3 className="font-semibold mb-1">Palette Lumière</h3>
                  <p className="text-gray-600 text-sm mb-2">12 teintes nuancées</p>
                  <div className="flex items-center mb-2">
                    {[1,2,3,4,5].map((star) => (
                      <Star key={star} size={14} fill="#f9a8d4" className="text-rose-300" />
                    ))}
                    <span className="text-xs text-gray-500 ml-1">(28)</span>
                  </div>
                  <div className="flex justify-between items-center">
                    <span className="font-serif font-bold">58,00 €</span>
                    <button className="bg-rose-400 text-white p-2 rounded-full hover:bg-rose-500 transition-colors">
                      <ShoppingBag size={16} />
                    </button>
                  </div>
                </div>
              </div>
              
              {/* Product 3 */}
              <div className="bg-white rounded-2xl overflow-hidden shadow-sm hover:shadow-md transition-shadow">
                <div className="relative aspect-square">
                  <img 
                    src="https://storage.googleapis.com/workspace-0f70711f-8b4e-4d94-86f1-2a93ccde5887/image/9b3ddcab-a769-4e4e-9f7e-572181a61f5e.png" 
                    alt="Gloss volumateur transparent avec reflets irisés et applicateur spongieux" 
                    className="w-full h-full object-cover"
                  />
                  <button className="absolute top-4 right-4 p-2 bg-white rounded-full shadow-md hover:bg-rose-50">
                    <Heart size={20} className="text-gray-600" />
                  </button>
                </div>
                <div className="p-4">
                  <h3 className="font-semibold mb-1">Gloss Éclat</h3>
                  <p className="text-gray-600 text-sm mb-2">Effet volumateur</p>
                  <div className="flex items-center mb-2">
                    {[1,2,3,4].map((star) => (
                      <Star key={star} size={14} fill="#f9a8d4" className="text-rose-300" />
                    ))}
                    <Star size={14} className="text-rose-300" />
                    <span className="text-xs text-gray-500 ml-1">(19)</span>
                  </div>
                  <div className="flex justify-between items-center">
                    <span className="font-serif font-bold">26,00 €</span>
                    <button className="bg-rose-400 text-white p-2 rounded-full hover:bg-rose-500 transition-colors">
                      <ShoppingBag size={16} />
                    </button>
                  </div>
                </div>
              </div>
              
              {/* Product 4 */}
              <div className="bg-white rounded-2xl overflow-hidden shadow-sm hover:shadow-md transition-shadow">
                <div className="relative aspect-square">
                  <img 
                    src="https://storage.googleapis.com/workspace-0f70711f-8b4e-4d94-86f1-2a93ccde5887/image/94b34791-2a01-4fb7-b015-678f393d7abf.png" 
                    alt="Correcteur haute couvrance avec applicateur embouti et fini naturel" 
                    className="w-full h-full object-cover"
                  />
                  <button className="absolute top-4 right-4 p-2 bg-white rounded-full shadow-md hover:bg-rose-50">
                    <Heart size={20} className="text-gray-600" />
                  </button>
                </div>
                <div className="p-4">
                  <h3 className="font-semibold mb-1">Correcteur Parfait</h3>
                  <p className="text-gray-600 text-sm mb-2">10 teintes disponibles</p>
                  <div className="flex items-center mb-2">
                    {[1,2,3,4,5].map((star) => (
                      <Star key={star} size={14} fill="#f9a8d4" className="text-rose-300" />
                    ))}
                    <span className="text-xs text-gray-500 ml-1">(35)</span>
                  </div>
                  <div className="flex justify-between items-center">
                    <span className="font-serif font-bold">24,00 €</span>
                    <button className="bg-rose-400 text-white p-2 rounded-full hover:bg-rose-500 transition-colors">
                      <ShoppingBag size={16} />
                    </button>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </section>

        {/* Newsletter */}
        <section className="py-16 bg-[#0F1115] text-white">
          <div className="container mx-auto px-4 text-center">
            <h2 className="text-3xl font-serif font-bold mb-4">Restez inspirée</h2>
            <p className="max-w-md mx-auto text-gray-300 mb-8">
              Inscrivez-vous à notre newsletter pour découvrir en avant-première nos nouveautés et conseils beauté.
            </p>
            <form className="max-w-md mx-auto flex flex-col sm:flex-row gap-4">
              <input 
                type="email" 
                placeholder="Votre email" 
                className="flex-1 bg-white/10 border border-white/20 rounded-full px-6 py-3 text-white placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-rose-400"
                required
              />
              <button 
                type="submit" 
                className="bg-rose-400 text-white px-8 py-3 rounded-full hover:bg-rose-500 transition-colors"
              >
                S'inscrire
              </button>
            </form>
          </div>
        </section>
      </main>

      {/* Footer */}
      <footer className="bg-white border-t border-gray-100 py-12">
        <div className="container mx-auto px-4">
          <div className="grid grid-cols-1 md:grid-cols-4 gap-8">
            <div>
              <div className="text-2xl font-serif font-bold mb-4">LUMIÈRE</div>
              <p className="text-gray-600 mb-4">
                Maquillage premium et clean beauty pour révéler votre éclat naturel.
              </p>
              <div className="flex space-x-4">
                <a href="#" className="text-gray-400 hover:text-rose-400">FB</a>
                <a href="#" className="text-gray-400 hover:text-rose-400">IG</a>
                <a href="#" className="text-gray-400 hover:text-rose-400">PT</a>
                <a href="#" className="text-gray-400 hover:text-rose-400">TT</a>
              </div>
            </div>
            
            <div>
              <h3 className="font-semibold mb-4">Produits</h3>
              <ul className="space-y-2">
                <li><a href="#" className="text-gray-600 hover:text-rose-400">Nouveautés</a></li>
                <li><a href="#" className="text-gray-600 hover:text-rose-400">Best-sellers</a></li>
                <li><a href="#" className="text-gray-600 hover:text-rose-400">Collections</a></li>
                <li><a href="#" className="text-gray-600 hover:text-rose-400">Coffrets</a></li>
              </ul>
            </div>
            
            <div>
              <h3 className="font-semibold mb-4">Informations</h3>
              <ul className="space-y-2">
                <li><a href="#" className="text-gray-600 hover:text-rose-400">Livraison</a></li>
                <li><a href="#" className="text-gray-600 hover:text-rose-400">Retours</a></li>
                <li><a href="#" className="text-gray-600 hover:text-rose-400">FAQ</a></li>
                <li><a href="#" className="text-gray-600 hover:text-rose-400">Contact</a></li>
              </ul>
            </div>
            
            <div>
              <h3 className="font-semibold mb-4">Entreprise</h3>
              <ul className="space-y-2">
                <li><a href="#" className="text-gray-600 hover:text-rose-400">À propos</a></li>
                <li><a href="#" className="text-gray-600 hover:text-rose-400">Engagements</a></li>
                <li><a href="#" className="text-gray-600 hover:text-rose-400">Carrières</a></li>
                <li><a href="#" className="text-gray-600 hover:text-rose-400">Presse</a></li>
              </ul>
            </div>
          </div>
          
          <div className="border-t border-gray-100 mt-12 pt-8 flex flex-col md:flex-row justify-between items-center">
            <p className="text-gray-500 text-sm">© 2023 LUMIÈRE. Tous droits réservés.</p>
            <div className="flex space-x-6 mt-4 md:mt-0">
              <a href="#" className="text-gray-500 hover:text-rose-400 text-sm">Conditions générales</a>
              <a href="#" className="text-gray-500 hover:text-rose-400 text-sm">Politique de confidentialité</a>
              <a href="#" className="text-gray-500 hover:text-rose-400 text-sm">Cookies</a>
            </div>
          </div>
        </div>
      </footer>
    </div>
  );
};

export default PremiumMakeupHomepage;
